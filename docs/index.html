<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Typing is not just OOP</title><meta charset="UTF-8"></meta><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="my.css" media="screen,projection"></link><link rel="stylesheet" href="highlight.css" media="screen,projection"></link><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        TeX : { extensions : ['color.js'] }
      });
    </script></head><body class="impress-not-supported"><div id="impress"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="typing-is-not-just-oop">Typing is not just OOP</h1></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="types">Types:</h1><ul><li>One-time use</li><li>(Im)mutability</li><li>Semver</li><li>State Machines</li><li>Errors</li></ul></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">fn</span> <span class="nf">next_token</span><span class="p">(</span><span class="n">s</span>: <span class="nc">Stream</span><span class="p">)</span><span class="w">
    </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="n">Token</span><span class="p">,</span><span class="w"> </span><span class="n">TokenError</span><span class="o">&gt;</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="n">unimplemented</span><span class="o">!</span><span class="p">();</span><span class="w">
</span><span class="p">}</span></pre></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">pub</span><span class="w"> </span><span class="k">enum</span> <span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nb">Ok</span><span class="p">(</span><span class="n">T</span><span class="p">),</span><span class="w">
    </span><span class="nb">Err</span><span class="p">(</span><span class="n">E</span><span class="p">),</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">Token</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">})</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="n">TokenError</span>::<span class="n">new</span><span class="p">())</span></pre></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">enum</span> <span class="nc">TokenError</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span>::<span class="n">Error</span><span class="p">),</span><span class="w">
    </span><span class="n">UnexpectedCharacter</span><span class="p">,</span><span class="w">
    </span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cause</span>: <span class="nc">ParseIntError</span><span class="p">,</span><span class="w">
               </span><span class="n">position</span>: <span class="nc">Pos</span><span class="w"> </span><span class="p">},</span><span class="w">
</span><span class="p">}</span></pre></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">match</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">close</span><span class="p">(),</span><span class="w">
    </span><span class="n">UnexpectedCharacter</span><span class="w">
    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="o">!</span><span class="p">(</span><span class="s">"bad char"</span><span class="p">),</span><span class="w">
</span><span class="p">}</span></pre></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><pre class="highlight code rust small"><span class="n">error</span><span class="p">[</span><span class="n">E0004</span><span class="p">]</span>: <span class="nc">non</span><span class="o">-</span><span class="n">exhaustive</span><span class="w"> </span><span class="n">patterns</span>: <span class="err">`</span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span><span class="err">`</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">covered</span><span class="w">
  </span><span class="o">-</span>-&gt; <span class="nc">src</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">14</span>:<span class="mi">11</span><span class="w">
   </span><span class="o">|</span><span class="w">
</span><span class="mi">6</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">enum</span> <span class="nc">TokenError</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="mi">7</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span>::<span class="n">Error</span><span class="p">),</span><span class="w">
</span><span class="mi">8</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">UnexpectedCharacter</span><span class="p">,</span><span class="w">
</span><span class="mi">9</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cause</span>: <span class="nc">ParseIntError</span><span class="p">,</span><span class="w">
   </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="o">--------</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">covered</span><span class="w">
</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                </span><span class="n">position</span>: <span class="nc">Pos</span><span class="w"> </span><span class="p">},</span><span class="w">
</span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="err">`</span><span class="n">TokenError</span><span class="err">`</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="w">
</span><span class="p">...</span><span class="w">
</span><span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">match</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="o">|</span><span class="w">             </span><span class="o">^^^</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="err">`</span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span><span class="err">`</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">covered</span><span class="w">
   </span><span class="o">|</span><span class="w">
   </span><span class="o">=</span><span class="w"> </span><span class="n">help</span>: <span class="nc">ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">handled</span><span class="p">,</span><span class="w">
           </span><span class="n">possibly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">wildcards</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">arms</span></pre></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">match</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">close</span><span class="p">(),</span><span class="w">
    </span><span class="n">UnexpectedCharacter</span><span class="w">
    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="o">!</span><span class="p">(</span><span class="s">"bad char"</span><span class="p">),</span><span class="w">
    </span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cause</span><span class="p">,</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="o">!</span><span class="p">(</span><span class="s">"bad int: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">cause</span><span class="p">),</span><span class="w">
</span><span class="p">}</span></pre></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><pre class="highlight code rust"><span class="cp">#[non_exhaustive]</span><span class="w">
</span><span class="k">enum</span> <span class="nc">TokenError</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span>::<span class="n">Error</span><span class="p">),</span><span class="w">
    </span><span class="n">UnexpectedCharacter</span><span class="p">,</span><span class="w">
    </span><span class="n">IntError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cause</span>: <span class="nc">ParseIntError</span><span class="p">,</span><span class="w">
               </span><span class="n">position</span>: <span class="nc">Pos</span><span class="w"> </span><span class="p">},</span><span class="w">
</span><span class="p">}</span></pre><p><span class="tag">forward-compability</span>
<span class="tag">semver</span></p></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><pre class="highlight code rust"><span class="k">match</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">Io</span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">close</span><span class="p">(),</span><span class="w">
    </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="o">!</span><span class="p">(</span><span class="s">"error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">),</span><span class="w">
</span><span class="p">}</span></pre></div></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/gotoSlide.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>